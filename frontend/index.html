<!DOCTYPE html>
<html lang='ru'>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>Банковская система</title>
    <!-- ИЗМЕНЕНО: добавил / перед путями -->
    <link rel='stylesheet' href='/css/style.css'>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css'>
</head>
<body>
    <div id='app'>
        <div class="student-info">
            <i class="fas fa-user-graduate"></i>
            Виктория Журавлева | ФБИ-34, 2025 год
        </div>

        <header class='header'>
            <div class='container'>
                <div class='logo'>
                    <i class='fas fa-university'></i>
                    <span>Банк "Финанс"</span>
                </div>
                <div class='user-info' id='userInfo'></div>
            </div>
        </header>

        <main class='main-content'>
            <div class='container'>
                <!-- Форма авторизации -->
                <div id='loginSection' class='login-section'>
                    <div class='auth-card'>
                        <h2><i class='fas fa-lock'></i> Авторизация</h2>
                        <form id='loginForm'>
                            <div class='form-group'>
                                <label for='login'><i class='fas fa-user'></i> Логин</label>
                                <input type='text' id='login' required placeholder='Введите логин'>
                                <div class='validation-error' id='loginError'></div>
                            </div>
                            <div class='form-group'>
                                <label for='password'><i class='fas fa-key'></i> Пароль</label>
                                <input type='password' id='password' required placeholder='Введите пароль'>
                                <div class='validation-error' id='passwordError'></div>
                            </div>
                            <button type='submit' class='btn btn-primary'>
                                <i class='fas fa-sign-in-alt'></i> Войти
                            </button>
                        </form>
                        <div class='demo-credentials'>
                            <h3><i class='fas fa-info-circle'></i> Демо доступы:</h3>
                            <div class='credentials-grid'>
                                <div>
                                    <h4>Менеджеры:</h4>
                                    <p>Логин: <strong>admin1</strong><br>Пароль: <strong>admin123</strong></p>
                                    <p>Логин: <strong>manager1</strong><br>Пароль: <strong>manager123</strong></p>
                                </div>
                                <div>
                                    <h4>Клиенты:</h4>
                                    <p>Логин: <strong>client1</strong><br>Пароль: <strong>client1</strong></p>
                                    <p>Логин: <strong>client2</strong><br>Пароль: <strong>client2</strong></p>
                                    <p><em>... и т.д. до client10</em></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Клиентский интерфейс -->
                <div id='clientInterface' class='hidden'>
                    <div class='dashboard'>
                        <div class='client-header'>
                            <h2><i class='fas fa-user-circle'></i> Личный кабинет</h2>
                            <div class='client-actions'>
                                <button onclick='bankApp.handleDeleteAccount()' class='btn btn-danger'>
                                    <i class='fas fa-trash'></i> Удалить аккаунт
                                </button>
                                <button onclick='logoutUser()' class='btn btn-secondary'>
                                    <i class='fas fa-sign-out-alt'></i> Выйти
                                </button>
                            </div>
                        </div>

                        <!-- Карточка баланса -->
                        <div class='balance-card'>
                            <h3><i class='fas fa-wallet'></i> Баланс счета</h3>
                            <div class='balance-amount' id='balanceAmount'>0.00 ₽</div>
                            <div class='account-info'>
                                <p><i class='fas fa-credit-card'></i> Номер счета: <span id='accountNumber'></span></p>
                                <p><i class='fas fa-user'></i> Владелец: <span id='accountOwner'></span></p>
                                <p><i class='fas fa-phone'></i> Телефон: <span id='accountPhone'></span></p>
                            </div>
                        </div>

                        <div class='client-sections'>
                            <!-- Секция перевода -->
                            <div class='section-card'>
                                <h3><i class='fas fa-exchange-alt'></i> Перевод средств</h3>
                                <form id='transferForm'>
                                    <div class='form-group'>
                                        <label><i class='fas fa-user'></i> Получатель</label>
                                        <input type='text' id='recipient' required 
                                               placeholder='Номер счета (ACC1000) или телефон'>
                                        <div class='validation-error' id='recipientError'></div>
                                    </div>
                                    <div class='form-group'>
                                        <label><i class='fas fa-money-bill-wave'></i> Сумма перевода</label>
                                        <div class='amount-input'>
                                            <input type='number' id='transferAmount' required 
                                                   min='1' step='0.01' placeholder='1000.00'>
                                            <span class='currency'>₽</span>
                                        </div>
                                        <div class='validation-error' id='amountError'></div>
                                    </div>
                                    <button type='submit' class='btn btn-success btn-block'>
                                        <i class='fas fa-paper-plane'></i> Отправить перевод
                                    </button>
                                </form>
                            </div>

                            <!-- История операций -->
                            <div class='section-card'>
                                <h3><i class='fas fa-history'></i> История операций</h3>
                                <div class='history-actions'>
                                    <button id='refreshHistory' class='btn btn-secondary btn-sm'>
                                        <i class='fas fa-sync'></i> Обновить
                                    </button>
                                </div>
                                <div class='transactions-list' id='transactionsList'>
                                    <div class='empty-state'>
                                        <i class='fas fa-receipt'></i>
                                        <p>Нет операций</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Интерфейс менеджера -->
                <div id='managerInterface' class='hidden'>
                    <div class='dashboard'>
                        <div class='client-header'>
                            <h2><i class='fas fa-users-cog'></i> Панель управления менеджера</h2>
                            <div class='client-actions'>
                                <button onclick='bankApp.handleDeleteAccount()' class='btn btn-danger'>
                                    <i class='fas fa-trash'></i> Удалить аккаунт
                                </button>
                                <button onclick='logoutUser()' class='btn btn-secondary'>
                                    <i class='fas fa-sign-out-alt'></i> Выйти
                                </button>
                            </div>
                        </div>

                        <div class='manager-sections'>
                            <!-- Быстрые действия -->
                            <div class='section-card'>
                                <h3><i class='fas fa-bolt'></i> Быстрые действия</h3>
                                <div class='quick-actions'>
                                    <button id='showCreateUserForm' class='btn btn-primary'>
                                        <i class='fas fa-user-plus'></i> Создать пользователя
                                    </button>
                                    <button id='refreshUsersBtn' class='btn btn-secondary'>
                                        <i class='fas fa-sync'></i> Обновить список
                                    </button>
                                    <button id='showStatsBtn' class='btn btn-success'>
                                        <i class='fas fa-chart-bar'></i> Статистика
                                    </button>
                                </div>
                                
                                <!-- Статистика -->
                                <div class='stats-grid' id='statsSection' style='display: none; margin-top: 20px;'>
                                    <div class='stat-card'>
                                        <div class='stat-value' id='totalUsers'>0</div>
                                        <div class='stat-label'>Всего пользователей</div>
                                    </div>
                                    <div class='stat-card'>
                                        <div class='stat-value' id='totalManagers'>0</div>
                                        <div class='stat-label'>Менеджеров</div>
                                    </div>
                                    <div class='stat-card'>
                                        <div class='stat-value' id='totalClients'>0</div>
                                        <div class='stat-label'>Клиентов</div>
                                    </div>
                                    <div class='stat-card'>
                                        <div class='stat-value' id='totalBalance'>0 ₽</div>
                                        <div class='stat-label'>Общий баланс</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Форма создания пользователя -->
                            <div class='section-card' id='createUserForm' style='display: none;'>
                                <h3><i class='fas fa-user-plus'></i> Создание нового пользователя</h3>
                                <form id='newUserForm'>
                                    <div class='form-row'>
                                        <div class='form-group'>
                                            <label>Логин *</label>
                                            <input type='text' id='newLogin' required>
                                            <div class='validation-error' id='newLoginError'></div>
                                        </div>
                                        <div class='form-group'>
                                            <label>Пароль *</label>
                                            <input type='password' id='newPassword' required>
                                            <div class='validation-error' id='newPasswordError'></div>
                                        </div>
                                    </div>
                                    
                                    <div class='form-group'>
                                        <label>ФИО *</label>
                                        <input type='text' id='newFullName' required>
                                        <div class='validation-error' id='newFullNameError'></div>
                                    </div>
                                    
                                    <div class='form-row'>
                                        <div class='form-group'>
                                            <label>Роль *</label>
                                            <select id='newUserRole'>
                                                <option value='client'>Клиент</option>
                                                <option value='manager'>Менеджер</option>
                                            </select>
                                        </div>
                                        <div class='form-group'>
                                            <label>Телефон</label>
                                            <input type='tel' id='newPhone' placeholder='+79991112233'>
                                            <div class='validation-error' id='newPhoneError'></div>
                                        </div>
                                    </div>
                                    
                                    <div class='form-row' id='clientFields'>
                                        <div class='form-group'>
                                            <label>Номер счета</label>
                                            <input type='text' id='newAccountNumber' placeholder='ACC1001'>
                                            <div class='validation-error' id='newAccountNumberError'></div>
                                        </div>
                                        <div class='form-group'>
                                            <label>Начальный баланс</label>
                                            <input type='number' id='newBalance' value='1000.00' step='0.01'>
                                            <div class='validation-error' id='newBalanceError'></div>
                                        </div>
                                    </div>
                                    
                                    <div class='form-buttons'>
                                        <button type='submit' class='btn btn-success'>
                                            <i class='fas fa-save'></i> Создать пользователя
                                        </button>
                                        <button type='button' id='cancelCreate' class='btn btn-secondary'>
                                            <i class='fas fa-times'></i> Отмена
                                        </button>
                                    </div>
                                </form>
                            </div>

                            <!-- Список пользователей -->
                            <div class='section-card wide-card'>
                                <h3><i class='fas fa-users'></i> Список пользователей</h3>
                                <div class='table-container'>
                                    <table id='usersTable'>
                                        <thead>
                                            <tr>
                                                <th>Логин</th>
                                                <th>ФИО</th>
                                                <th>Роль</th>
                                                <th>Телефон</th>
                                                <th>Счет</th>
                                                <th>Баланс</th>
                                                <th>Действия</th>
                                            </tr>
                                        </thead>
                                        <tbody id='usersTableBody'>
                                            <tr>
                                                <td colspan='7' class='empty-table'>Загрузка пользователей...</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer class='footer'>
            <div class='container'>
                <p>© 2025 Банковская система. Разработка: Виктория Журавлева, группа ФБИ-34</p>
                <p>Обслуживание счетов и переводы 24/7</p>
            </div>
        </footer>
    </div>

    <script src='/js/api.js'></script>
    <script src='/js/app.js'></script>
</body>
</html>